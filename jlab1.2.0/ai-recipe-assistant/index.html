<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Recipe Assistant</title>
    <link rel="icon" type="image/svg+xml" href="/ai-recipe-assistant/logo-simple.svg" />
    <link rel="stylesheet" href="/ai-recipe-assistant/styles.css" />
</head>

<body>
    <header class="site-header">
        <div class="container header-row">
            <div class="logo-wrap">
                <div class="logo" aria-label="JLab logo">JLab</div>
                <div>
                    <h1>AI Recipe Assistant</h1>
                    <p>Tell the assistant what you want to eat. It builds a restaurant order and a home recipe.</p>
                </div>
            </div>
            <div class="status-pill" id="aiStatus">AI: Not connected</div>
        </div>
    </header>

    <script src="/payment-processing.js"></script>

    <main class="container main-grid">
        <section class="panel chat-panel">
            <div class="panel-header">
                <div>
                    <h2>Plan your meal with AI</h2>
                    <p class="muted">The assistant asks questions, builds your order, and turns it into a recipe.</p>
                </div>
                <div class="chip-row">
                    <button class="chip" data-prompt="Breakfast idea for two">Breakfast</button>
                    <button class="chip" data-prompt="Quick lunch under 30 minutes">Lunch</button>
                    <button class="chip" data-prompt="Dinner for guests">Dinner</button>
                    <button class="chip" data-prompt="Vegetarian meal">Vegetarian</button>
                </div>
            </div>

            <div id="chatWindow" class="chat-window" aria-live="polite"></div>

            <div class="chat-row">
                <input id="chatInput" type="text" placeholder="Tell me what you want to eat..."
                    aria-label="Chat message" />
                <button id="sendBtn" class="primary">Send</button>
            </div>
            <p class="hint">Tip: include budget, time, cuisine, and dietary preferences.</p>
        </section>

        <section class="panel summary-panel">
            <div class="summary-block">
                <h2>Order summary</h2>
                <div id="orderSummary" class="summary-card">
                    <p class="muted">Your AI-generated order will appear here.</p>
                </div>
            </div>

            <div class="summary-block">
                <h2>Home recipe</h2>
                <div class="recipe-header">
                    <div>
                        <h3 id="recipeTitle">Awaiting your conversation</h3>
                        <p id="recipeMeta" class="meta">The assistant will craft a recipe based on your order.</p>
                    </div>
                </div>

                <div class="recipe-visual">
                    <img id="recipeImage"
                        src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1100&q=80"
                        alt="Recipe preview" />
                </div>

                <div class="recipe-columns">
                    <div>
                        <h4>Ingredients</h4>
                        <ul id="ingredientsList" class="list"></ul>
                    </div>
                    <div>
                        <h4>Steps</h4>
                        <ol id="stepsList" class="list"></ol>
                    </div>
                </div>
                <div id="tipsBlock" class="tips"></div>
                <p id="statusMessage" class="status"></p>
            </div>

            <div class="summary-block">
                <h2>Nearby restaurant suggestions</h2>
                <div id="restaurantList" class="stack">
                    <p class="muted">Restaurants will be suggested after your order is created.</p>
                </div>
            </div>

            <div id="subscriptionPanel" class="summary-block subscription-panel hidden">
                <h2>Upgrade to keep cooking</h2>
                <p class="muted">
                    You have reached the free limit of 3 recipes. Choose a plan to keep generating orders and recipes.
                </p>
                <stripe-pricing-table pricing-table-id="prctbl_1Sv8TIEXymNXSzQjezfNhjIq"
                    publishable-key="pk_live_51Sv7y9EXymNXSzQj9Poz8ttCFypmuAqp0isLyiQsKM8OmMS6RFqGWUMTNFTbixNpQlYJMMKnLztYuoOxog4a1wYu0059B6lfaB">
                </stripe-pricing-table>
                <div class="plan-grid">
                    <div class="plan-card">
                        <h3>Starter</h3>
                        <p class="price">$9 / month</p>
                        <ul>
                            <li>50 recipes / month</li>
                            <li>Order summaries</li>
                            <li>Email support</li>
                        </ul>
                        <button class="plan-button" data-plan="starter">Subscribe</button>
                    </div>
                    <div class="plan-card plan-highlight">
                        <h3>Chef</h3>
                        <p class="price">$19 / month</p>
                        <ul>
                            <li>200 recipes / month</li>
                            <li>Priority AI responses</li>
                            <li>Restaurant suggestions</li>
                        </ul>
                        <button class="plan-button" data-plan="chef">Subscribe</button>
                    </div>
                    <div class="plan-card">
                        <h3>Team</h3>
                        <p class="price">$39 / month</p>
                        <ul>
                            <li>Unlimited recipes</li>
                            <li>Multi-user access</li>
                            <li>Dedicated support</li>
                        </ul>
                        <button class="plan-button" data-plan="team">Subscribe</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="/ai-recipe-assistant/app.js"></script>
</body>

</html>